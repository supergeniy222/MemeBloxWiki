<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MemeBlox Wiki</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <header>
        <ul class="nav">
            <li><a href=""><img src="images/MemeBlox_logo.svg" alt="logo"></a></li>
            <li><a href="index.html" id="current-page">Главная</a></li>
            <li><a href="games_page.html">Игры</a></li>
            <li><a href="chat_page.html">Чат</a></li>
            <li><a href="https://discord.gg/6S3AnNavmr" target="_blank">Помощь</a></li>
            <li>
                <a href="">
                    <img src="images/account_box_icon.svg" alt="logo" id="icon">
                </a>
            </li>
        </ul>
    </header>

    <div class="account-box">
        <ul>
            <li><a href="login_page.html">Войти</a></li>
            <li><a href="registration_page.html">Регистрация</a></li>
        </ul>
    </div>

    <div class="wrapper">
        <form action="" class="registration">
            <input id="name"     type="text"   placeholder="Имя">
            <input id="email"    type="text"   placeholder="EMAIL">
            <input id="password" type="text"   placeholder="Пароль">
            <input id="done"     type="submit" value="Готово">
        </form>
    </div>

    <!-- <script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/1   0.4.0/firebase-auth-compat.js"></script> -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";
        const firebaseConfig = {
            apiKey: "AIzaSyATo0ohZZWXe1p6qpi99O-qdYhIe4V-KeA",
            authDomain: "memeblox-wiki-7a706.firebaseapp.com",
            projectId: "memeblox-wiki-7a706",
            storageBucket: "memeblox-wiki-7a706.appspot.com",
            messagingSenderId: "139328437864",
            appId: "1:139328437864:web:15909606ee859a9304c5dd",
            measurementId: "G-81DFCTHN4W"
        };
        const app = initializeApp(firebaseConfig);
        const auth = getAuth();

        const formRegistration = document.querySelector(".registration");

        formRegistration.addEventListener("submit", (event) => {
            event.preventDefault();
            const userName = formRegistration["name"].value;
            const userEmail = formRegistration["email"].value;
            const userPassword = formRegistration["password"].value;
            signInWithEmailAndPassword(auth, userEmail, userPassword)
                .then((userCredential) => {
                    const user = userCredential.user;
                    console.log(user);
                    formRegistration["name"].value = "";
                    formRegistration["email"].value = "";
                    formRegistration["password"].value = "";
                    alert("Вы успешно вошли в аккаунт");
                })
                .catch((error) => {
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    console.log(errorCode);
                    console.log(errorMessage);
                    alert("Вы указали неверные данные");
                })
        });


    </script>
    <!-- <script src="js/auth.js"></script> -->

    
    <script src="js/script.js"></script>

</body>
</html>

